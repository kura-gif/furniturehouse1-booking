# æ–½è¨­ã‚µãƒãƒ¼ãƒˆç®¡ç†æ©Ÿèƒ½ - å®Ÿè£…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## æ¦‚è¦

å®¶å…·ã®å®¶ No.1ã®æ–½è¨­ã‚µãƒãƒ¼ãƒˆï¼ˆæ¸…æƒãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼‰æ¥­å‹™ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
ãƒ‘ãƒ¼ãƒˆå¾“æ¥­å“¡ï¼ˆæ–½è¨­ã‚µãƒãƒ¼ã‚¿ãƒ¼ï¼‰ã¨ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´ã€ã‚¿ã‚¹ã‚¯å‰²å½“ã€å ±é…¬è¨ˆç®—ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€å…ƒç®¡ç†ã—ã¾ã™ã€‚

## ç”¨èªã®çµ±ä¸€

| æ—§ç§° | æ–°ç§° | ç†ç”± |
|------|------|------|
| æ¸…æƒå“¡ | æ–½è¨­ã‚µãƒãƒ¼ã‚¿ãƒ¼ | æ¥­å‹™ã®å¤šæ§˜æ€§ã‚’è¡¨ç¾ |
| æ¸…æƒ | æ–½è¨­ã‚µãƒãƒ¼ãƒˆ | ã‚µãƒ¼ãƒ“ã‚¹ã®å¹…åºƒã•ã‚’ç¤ºã™ |
| æ¸…æƒã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | æ–½è¨­ã‚µãƒãƒ¼ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | çµ±ä¸€ã•ã‚ŒãŸå‘¼ç§° |

---

## æ©Ÿèƒ½ä¸€è¦§

### 1. ã‚µãƒãƒ¼ã‚¿ãƒ¼ç®¡ç†

#### 1.1 ã‚µãƒãƒ¼ã‚¿ãƒ¼ç™»éŒ²ãƒ»ç·¨é›†
- **æ©Ÿèƒ½**: æ–½è¨­ã‚µãƒãƒ¼ã‚¿ãƒ¼ã®åŸºæœ¬æƒ…å ±ã‚’ç™»éŒ²ãƒ»ç®¡ç†
- **æƒ…å ±é …ç›®**:
  - åå‰
  - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆé€šçŸ¥ç”¨ï¼‰
  - é›»è©±ç•ªå·
  - æ™‚çµ¦è¨­å®šï¼ˆå€‹åˆ¥è¨­å®šå¯èƒ½ï¼‰
  - äº¤é€šè²»ï¼ˆå¾€å¾©ã€è·é›¢ã«å¿œã˜ãŸã‚¬ã‚½ãƒªãƒ³ä»£ï¼‰
  - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–/éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

#### 1.2 ã‚µãƒãƒ¼ã‚¿ãƒ¼ä¸€è¦§è¡¨ç¤º
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚µãƒãƒ¼ã‚¿ãƒ¼ã®ä¸€è¦§
- ä»Šæœˆã®ç¨¼åƒæ™‚é–“ãƒ»å›æ•°
- ä»Šæœˆã®å ±é…¬ï¼ˆæ™‚çµ¦ Ã— ç¨¼åƒæ™‚é–“ + äº¤é€šè²» Ã— å›æ•°ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `composables/useSupport.ts` - `createSupporter()`, `updateSupporter()`, `getAllSupporters()`

---

### 2. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†

#### 2.1 åˆ©ç”¨å¯èƒ½çŠ¶æ³ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
- **ç›®çš„**: ã‚µãƒãƒ¼ã‚¿ãƒ¼ãŒäº‹å‰ã«OKæ—¥/NGæ—¥ã‚’ç™»éŒ²
- **æ©Ÿèƒ½**:
  - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å½¢å¼ã§ã®æ—¥ä»˜é¸æŠ
  - OKæ—¥ï¼ˆåˆ©ç”¨å¯èƒ½ï¼‰: ç·‘è‰²è¡¨ç¤º
  - NGæ—¥ï¼ˆåˆ©ç”¨ä¸å¯ï¼‰: èµ¤è‰²è¡¨ç¤º
  - æœªè¨­å®š: ã‚°ãƒ¬ãƒ¼è¡¨ç¤º
  - æ™‚é–“å¸¯æŒ‡å®šã‚‚å¯èƒ½ï¼ˆä¾‹: 9:00-15:00ã®ã¿OKï¼‰
  - ãƒ¡ãƒ¢æ¬„ï¼ˆç†ç”±ãªã©ï¼‰

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```typescript
interface SupporterAvailability {
  supporterId: string
  date: Timestamp
  isAvailable: boolean  // true: OKæ—¥, false: NGæ—¥
  timeSlots?: {
    start: string  // "09:00"
    end: string    // "15:00"
  }[]
  notes?: string
}
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `composables/useSupport.ts` - `getSupporterAvailability()`, `setSupporterAvailability()`

#### 2.2 ã‚µãƒãƒ¼ã‚¿ãƒ¼ã‚¿ã‚¹ã‚¯ä½œæˆ
- **ãƒˆãƒªã‚¬ãƒ¼**: äºˆç´„ç¢ºå®šæ™‚ã«è‡ªå‹•ç”Ÿæˆã€ã¾ãŸã¯ç®¡ç†è€…ãŒæ‰‹å‹•ä½œæˆ
- **è¨­å®šé …ç›®**:
  - äºˆç´„IDï¼ˆé–¢é€£äºˆç´„ï¼‰
  - äºˆå®šæ—¥æ™‚ï¼ˆé€šå¸¸ã¯ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆæ—¥ï¼‰
  - äºˆå®šæ™‚é–“ï¼ˆ2æ™‚é–“/3æ™‚é–“/4æ™‚é–“ã‹ã‚‰é¸æŠï¼‰
  - ã‚µãƒãƒ¼ã‚¿ãƒ¼å‰²å½“ï¼ˆæœªå‰²å½“ã‚‚å¯ï¼‰

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```typescript
interface SupportTask {
  bookingId: string
  supporterId?: string  // æœªå‰²å½“ã®å ´åˆã¯undefined
  scheduledDate: Timestamp
  scheduledDuration: 2 | 3 | 4  // æ™‚é–“
  status: 'scheduled' | 'in_progress' | 'completed' | 'cancelled'
  checklistCompleted: {
    linenChange: boolean
    bathroom: boolean
    kitchen: boolean
    garbageCollection: boolean
    floor: boolean
    windows: boolean
  }
}
```

---

### 3. ã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ»å ±å‘Š

#### 3.1 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
ã‚µãƒãƒ¼ã‚¿ãƒ¼ãŒå®Œäº†ã—ãŸä½œæ¥­ã‚’ãƒã‚§ãƒƒã‚¯:
- âœ… ãƒªãƒãƒ³äº¤æ›
- âœ… ãƒã‚¹ãƒ«ãƒ¼ãƒ æ¸…æƒ
- âœ… ã‚­ãƒƒãƒãƒ³æ¸…æƒ
- âœ… ã‚´ãƒŸå›å
- âœ… åºŠæ¸…æƒ
- âœ… çª“æ¸…æƒ

#### 3.2 å®Ÿç¸¾æ™‚é–“å…¥åŠ›
- **é–‹å§‹æ™‚é–“**: ã‚µãƒãƒ¼ã‚¿ãƒ¼ãŒå…¥åŠ›
- **çµ‚äº†æ™‚é–“**: ã‚µãƒãƒ¼ã‚¿ãƒ¼ãŒå…¥åŠ›
- **å®Ÿåƒæ™‚é–“**: è‡ªå‹•è¨ˆç®—ï¼ˆåˆ†å˜ä½ï¼‰

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```typescript
interface SupportTask {
  actualStartTime?: Timestamp
  actualEndTime?: Timestamp
  actualDuration?: number  // åˆ†å˜ä½
}
```

#### 3.3 å ±é…¬è‡ªå‹•è¨ˆç®—
```typescript
// è¨ˆç®—å¼
laborCost = hourlyRate Ã— (actualDuration / 60)
totalCost = laborCost + transportationFee

// ä¾‹: æ™‚çµ¦1,300å††ã€3æ™‚é–“ã€äº¤é€šè²»600å††
// laborCost = 1,300 Ã— 3 = 3,900å††
// totalCost = 3,900 + 600 = 4,500å††
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `composables/useSupport.ts` - `calculateTaskCost()`

---

### 4. ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

#### 4.1 ã‚¿ã‚¹ã‚¯åˆ¥ãƒãƒ£ãƒƒãƒˆ
- **å‚åŠ è€…**: ç®¡ç†è€… â‡” ã‚µãƒãƒ¼ã‚¿ãƒ¼
- **æ©Ÿèƒ½**:
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°
  - æ—¢èª­/æœªèª­ç®¡ç†
  - ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼ˆæ–°è¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ™‚ï¼‰

**ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```typescript
interface SupportMessage {
  taskId: string
  senderId: string
  senderType: 'admin' | 'supporter'
  senderName: string
  message: string
  isRead: boolean
  createdAt: Timestamp
}
```

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `composables/useSupport.ts` - `getSupportMessages()`, `sendSupportMessage()`, `markMessageAsRead()`

#### 4.2 ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
- **ãƒˆãƒªã‚¬ãƒ¼**:
  - ã‚¿ã‚¹ã‚¯å‰²å½“æ™‚ â†’ ã‚µãƒãƒ¼ã‚¿ãƒ¼ã«é€šçŸ¥
  - æ–°è¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ â†’ ç›¸æ‰‹ã«é€šçŸ¥
  - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å¤‰æ›´ â†’ ã‚µãƒãƒ¼ã‚¿ãƒ¼ã«é€šçŸ¥

**å®Ÿè£…äºˆå®š**: Cloud Functions + SendGrid

---

## ç®¡ç†ç”»é¢UIæ§‹æˆ

### ã‚¿ãƒ–æ§‹é€ 
```
æ–½è¨­ã‚µãƒãƒ¼ãƒˆ
â”œâ”€â”€ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ ã‚µãƒãƒ¼ãƒˆã‚¿ã‚¹ã‚¯ä¸€è¦§
â”‚   â”œâ”€â”€ æœªå‰²å½“ã‚¿ã‚¹ã‚¯
â”‚   â””â”€â”€ å®Œäº†æ¸ˆã¿ã‚¿ã‚¹ã‚¯
â”œâ”€â”€ ã‚µãƒãƒ¼ã‚¿ãƒ¼ç®¡ç†
â”‚   â”œâ”€â”€ ã‚µãƒãƒ¼ã‚¿ãƒ¼ä¸€è¦§
â”‚   â”œâ”€â”€ ä»Šæœˆã®ç¨¼åƒçŠ¶æ³
â”‚   â””â”€â”€ å ±é…¬ã‚µãƒãƒªãƒ¼
â””â”€â”€ åˆ©ç”¨å¯èƒ½çŠ¶æ³
    â”œâ”€â”€ ã‚µãƒãƒ¼ã‚¿ãƒ¼é¸æŠ
    â”œâ”€â”€ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º
    â””â”€â”€ OK/NGæ—¥è¨­å®š
```

### ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™
- **ç®¡ç†è€…**: å…¨æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **ã‚µãƒãƒ¼ã‚¿ãƒ¼**:
  - è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ã®ã¿é–²è¦§ãƒ»æ›´æ–°
  - è‡ªåˆ†ã®åˆ©ç”¨å¯èƒ½ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿ç·¨é›†
  - ã‚¿ã‚¹ã‚¯ãƒãƒ£ãƒƒãƒˆã®ã¿ä½¿ç”¨å¯èƒ½

---

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. äºˆç´„ç¢ºå®šæ™‚ã®è‡ªå‹•ã‚¿ã‚¹ã‚¯ç”Ÿæˆ
```
äºˆç´„ç¢ºå®š
  â†“
ã‚µãƒãƒ¼ãƒˆã‚¿ã‚¹ã‚¯è‡ªå‹•ä½œæˆ
  - äºˆå®šæ—¥: ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆæ—¥
  - äºˆå®šæ™‚é–“: 3æ™‚é–“ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: scheduled
  - ã‚µãƒãƒ¼ã‚¿ãƒ¼: æœªå‰²å½“
  â†“
ç®¡ç†è€…ãŒåˆ©ç”¨å¯èƒ½çŠ¶æ³ã‚’ç¢ºèª
  â†“
ã‚µãƒãƒ¼ã‚¿ãƒ¼å‰²å½“
  â†“
ã‚µãƒãƒ¼ã‚¿ãƒ¼ã«ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
```

### 2. ã‚µãƒãƒ¼ã‚¿ãƒ¼ä½œæ¥­ãƒ•ãƒ­ãƒ¼
```
ã‚¿ã‚¹ã‚¯é€šçŸ¥å—ä¿¡ï¼ˆãƒ¡ãƒ¼ãƒ«ï¼‰
  â†“
åˆ©ç”¨å¯èƒ½çŠ¶æ³ç¢ºèª
  â†“
OK/NGè¿”ä¿¡ï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¾ãŸã¯ãƒãƒ£ãƒƒãƒˆï¼‰
  â†“
ã€ä½œæ¥­å½“æ—¥ã€‘
é–‹å§‹æ™‚é–“å…¥åŠ›
  â†“
ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå®Ÿè¡Œ
  â†“
çµ‚äº†æ™‚é–“å…¥åŠ›
  â†“
ã‚¿ã‚¹ã‚¯å®Œäº†
  â†“
å ±é…¬è‡ªå‹•è¨ˆç®—
```

### 3. ç®¡ç†è€…æ‰¿èªãƒ•ãƒ­ãƒ¼
```
ã‚µãƒãƒ¼ã‚¿ãƒ¼ã‚¿ã‚¹ã‚¯å®Œäº†
  â†“
ç®¡ç†è€…ç¢ºèª
  â†“
ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆç¢ºèª
  â†“
å®Ÿåƒæ™‚é–“ç¢ºèª
  â†“
å ±é…¬ç¢ºå®š
  â†“
æœˆæ¬¡ã‚µãƒãƒªãƒ¼ç”Ÿæˆ
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### Firestoreã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

#### 1. `supporters`
```
supporters/{supporterId}
  - name: string
  - email: string
  - phone: string
  - hourlyRate: number
  - transportationFee: number
  - isActive: boolean
  - createdAt: Timestamp
  - updatedAt: Timestamp
```

#### 2. `supportTasks`
```
supportTasks/{taskId}
  - bookingId: string
  - supporterId: string (nullable)
  - scheduledDate: Timestamp
  - scheduledDuration: 2 | 3 | 4
  - actualStartTime: Timestamp (nullable)
  - actualEndTime: Timestamp (nullable)
  - actualDuration: number (nullable)
  - status: 'scheduled' | 'in_progress' | 'completed' | 'cancelled'
  - checklistCompleted: {
      linenChange: boolean
      bathroom: boolean
      kitchen: boolean
      garbageCollection: boolean
      floor: boolean
      windows: boolean
    }
  - notes: string
  - createdAt: Timestamp
  - updatedAt: Timestamp
```

#### 3. `supporterAvailability`
```
supporterAvailability/{availabilityId}
  - supporterId: string
  - date: Timestamp
  - isAvailable: boolean
  - timeSlots: [{ start: string, end: string }]
  - notes: string
  - createdAt: Timestamp
  - updatedAt: Timestamp
```

#### 4. `supportMessages`
```
supportMessages/{messageId}
  - taskId: string
  - senderId: string
  - senderType: 'admin' | 'supporter'
  - senderName: string
  - message: string
  - isRead: boolean
  - createdAt: Timestamp
```

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

```javascript
// ç®¡ç†è€…: å…¨ã‚¢ã‚¯ã‚»ã‚¹
// ã‚µãƒãƒ¼ã‚¿ãƒ¼æœ¬äºº: è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿èª­ã¿å–ã‚Šãƒ»æ›´æ–°

match /supporters/{supporterId} {
  allow read, write: if isAdmin();
  allow read: if request.auth.uid == supporterId;
}

match /supportTasks/{taskId} {
  allow read, write: if isAdmin();
  allow read: if resource.data.supporterId == request.auth.uid;
  allow update: if resource.data.supporterId == request.auth.uid
    && onlyUpdating(['actualStartTime', 'actualEndTime', 'actualDuration', 'status', 'checklistCompleted']);
}

match /supporterAvailability/{availabilityId} {
  allow read, write: if isAdmin();
  allow read, write: if resource.data.supporterId == request.auth.uid;
  allow create: if request.resource.data.supporterId == request.auth.uid;
}

match /supportMessages/{messageId} {
  allow read, write: if isAdmin();
  allow read: if request.auth.uid == resource.data.senderId;
  allow create: if request.auth.uid == request.resource.data.senderId;
  allow update: if onlyUpdating(['isRead']);
}
```

---

## ä»Šå¾Œã®æ‹¡å¼µæ©Ÿèƒ½

### Phase 1ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
- âœ… ã‚µãƒãƒ¼ã‚¿ãƒ¼ç®¡ç†
- âœ… ã‚¿ã‚¹ã‚¯ç®¡ç†åŸºæœ¬æ©Ÿèƒ½
- âœ… åˆ©ç”¨å¯èƒ½ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«UI
- âœ… å ±é…¬è‡ªå‹•è¨ˆç®—

### Phase 2ï¼ˆå®Ÿè£…äºˆå®šï¼‰
- ğŸš§ LINEã¨ã®é€£æºï¼ˆé€šçŸ¥ï¼‰
- ğŸš§ ãƒ¡ãƒ¼ãƒ«è‡ªå‹•é€ä¿¡
- ğŸš§ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆå®Ÿè£…
- ğŸš§ ã‚µãƒãƒ¼ã‚¿ãƒ¼å°‚ç”¨ãƒšãƒ¼ã‚¸ä½œæˆ

### Phase 3ï¼ˆå°†æ¥çš„ã«ï¼‰
- ğŸ“‹ æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
- ğŸ“‹ çµ¦ä¸æ˜ç´°PDFå‡ºåŠ›
- ğŸ“‹ ç¨¼åƒçµ±è¨ˆã‚°ãƒ©ãƒ•
- ğŸ“‹ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ“‹ è¤‡æ•°æ–½è¨­å¯¾å¿œ

---

## å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

```
types/index.ts
  - Supporter
  - SupportTask
  - SupporterAvailability
  - SupportMessage
  - SupportDuration
  - SupportStatus

composables/useSupport.ts
  - ã‚µãƒãƒ¼ã‚¿ãƒ¼ç®¡ç†é–¢æ•°
  - ã‚¿ã‚¹ã‚¯ç®¡ç†é–¢æ•°
  - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†é–¢æ•°
  - ãƒãƒ£ãƒƒãƒˆç®¡ç†é–¢æ•°
  - å ±é…¬è¨ˆç®—é–¢æ•°

pages/admin/index.vue
  - æ–½è¨­ã‚µãƒãƒ¼ãƒˆã‚¿ãƒ–ï¼ˆ3ã‚µãƒ–ã‚¿ãƒ–ï¼‰
    - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
    - ã‚µãƒãƒ¼ã‚¿ãƒ¼ç®¡ç†
    - åˆ©ç”¨å¯èƒ½çŠ¶æ³

firestore.rules
  - supporters ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
  - supportTasks ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
  - supporterAvailability ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
  - supportMessages ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«

firestore.indexes.json
  - supportTasks ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  - supporterAvailability ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  - supportMessages ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
```

---

## ä½¿ç”¨æ–¹æ³•

### 1. ã‚µãƒãƒ¼ã‚¿ãƒ¼ç™»éŒ²
```typescript
const { createSupporter } = useSupport()

await createSupporter({
  name: 'ç”°ä¸­ èŠ±å­',
  email: 'tanaka@example.com',
  phone: '090-1234-5678',
  hourlyRate: 1300,
  transportationFee: 600,
  isActive: true
})
```

### 2. ã‚¿ã‚¹ã‚¯ä½œæˆ
```typescript
const { createSupportTask } = useSupport()

await createSupportTask({
  bookingId: 'booking-123',
  scheduledDate: Timestamp.fromDate(new Date('2025-02-01')),
  scheduledDuration: 3,
  status: 'scheduled',
  checklistCompleted: {
    linenChange: false,
    bathroom: false,
    kitchen: false,
    garbageCollection: false,
    floor: false,
    windows: false
  }
})
```

### 3. ã‚µãƒãƒ¼ã‚¿ãƒ¼å‰²å½“
```typescript
const { assignSupporter } = useSupport()

await assignSupporter('task-123', 'supporter-456')
```

### 4. å ±é…¬è¨ˆç®—
```typescript
const { calculateTaskCost } = useSupport()

const supporter = {
  hourlyRate: 1300,
  transportationFee: 600
}

const cost = calculateTaskCost(supporter, 180) // 180åˆ† = 3æ™‚é–“
// { laborCost: 3900, transportationFee: 600, totalCost: 4500 }
```

---

## ã¾ã¨ã‚

æ–½è¨­ã‚µãƒãƒ¼ãƒˆç®¡ç†æ©Ÿèƒ½ã«ã‚ˆã‚Šã€ä»¥ä¸‹ãŒå®Ÿç¾ã•ã‚Œã¾ã™ï¼š

1. **åŠ¹ç‡çš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´**: LINEã§ã®éƒ½åº¦ç¢ºèªãŒä¸è¦
2. **é€æ˜ãªå ±é…¬ç®¡ç†**: æ™‚çµ¦ã¨äº¤é€šè²»ã®è‡ªå‹•è¨ˆç®—
3. **ã‚¿ã‚¹ã‚¯ã®å¯è¦–åŒ–**: èª°ãŒãƒ»ã„ã¤ãƒ»ä½•ã‚’ã™ã‚‹ã‹æ˜ç¢º
4. **ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´**: ãƒãƒ£ãƒƒãƒˆã§è¨˜éŒ²ãŒæ®‹ã‚‹
5. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: ã‚µãƒãƒ¼ã‚¿ãƒ¼ã®å¢—æ¸›ã«æŸ”è»Ÿã«å¯¾å¿œ

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ19æ—¥
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
